\documentclass[a4paper,12pt,twoside]{article}

\usepackage{xltxtra,fontspec,xunicode}
\usepackage{lipsum}
\usepackage[margin=15mm]{geometry}
\usepackage{amsmath}
\usepackage{fancyhdr}
\usepackage[english]{babel}
\usepackage{array,ragged2e,pst-node,pst-dbicons}
\usepackage{color}
\usepackage{multirow}
\usepackage{wrapfig}
\usepackage{tabularx}
\usepackage{tikz}
\usepackage{textpos}
\usepackage{multirow}
\usepackage{lscape}
\usepackage{chngcntr}

\usetikzlibrary{calc}

\newcolumntype{C}[1]{>{\Centering}p{#1}}

\setlength{\topmargin}{-12pt}
\setlength{\headheight}{18pt}
\setlength{\textheight}{680pt}

\definecolor{headerfill}{rgb}{0.827,0.875,0.933}
\definecolor{headerline}{rgb}{0.310,0.506,0.741}
\definecolor{headertext}{rgb}{0.212,0.373,0.569}

\fancypagestyle{plain}{
    \renewcommand{\headrulewidth}{0pt}
    \fancyhf{}

    \def\headerbox{
        \setromanfont[Numbers=Uppercase]{Calibri}
        \begin{tikzpicture}[remember picture, overlay]
            \coordinate (headerstart) at ($(current page.north west)-(1,0)$);
            \coordinate (headerend) at ($(current page.north east)+(2,-2.5)$);
            \filldraw[draw=headerline,fill=headerfill,line width=1pt]
                (headerstart) rectangle (headerend);
            \node () at (0, 1.25)
                {\Large\textcolor{headertext}{Design Document}};
            \node () at (-7.75, 1.3)
                {\includegraphics[width=0.2\textwidth]{images/logo}};
            \node () at (7.75, 1.25)
                {\textcolor{headertext}{\today}};
        \end{tikzpicture}
    }

    \fancyhf[HC]{\headerbox}
    \fancyhf[FLO]{\thepage\ | Page}
    \fancyhf[FRE]{Page | \thepage}

    \setromanfont[Numbers=Uppercase]{Calibri}
}

\pagestyle{plain}

\counterwithin{figure}{section}
\setcounter{tocdepth}{2}

\begin{document}
%\input{titlepage.tex}
%\setcounter{page}{1}
%\setcounter{section}{-1}
%\section{Document Information}
%\input{versionhistory.tex}
%\input{requirementdiff.tex}
%\newpage
%\subsection{Table of Contents}
%\tableofcontents
%\newpage
%\input{introduction.tex}
%\newpage
%\input{interfacedescriptions.tex}
%\newpage
\input{intermoduledependencies.tex}
%\newpage
%\input{interprocessdependencies.tex}
\end{document}
